<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Start Google Optimize with page hiding snippet -->
    <!-- Disable Google Optimize when not in use as it dramatically slows page load times -->
    <!--
	<style>
	.async-hide { opacity: 0 !important} en
	</style>
	
	<script>
	   (function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;
	   h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
	   (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);
	   })(window,document.documentElement,'async-hide','dataLayer',4000,{'GTM-123456':true});
	</script>
	-->
    <!-- End Google Optimize with page hiding snippet -->

    <!-- Add the Cookie Consent script -->
    <script src="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/cshp--cookie-consent.js?v=1741377488000"></script>

    <!-- Start Google Tag Manager Data Layer Initialization Script -->
    <script>
      window.dataLayer = window.dataLayer || [];
    </script>
    <!-- End Google Tag Manager Data Layer Initialization Script -->

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/favicon-32x32.png"
    />
    <link
      rel="shortcut icon"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/favicon.ico"
    />

    <!-- Apple Touch Icon -->
    <link
      rel="apple-touch-icon"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/apple-touch-icon.png"
    />

    <!-- Android Icons -->
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/android-chrome-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/android-chrome-512x512.png"
    />

    <title>${page~title} | National Trust for Historic Preservation</title>
    <meta name="language" content="EN" />
    <meta name="theme-color" content="#00689f" />
    <meta property="og:type" content="website" />

    <!-- Immeditately get color on the page and hide the contents until engrid.css is rendered by the browser -->
    <style>
      body {
         --nthp-grey: #f2f3f1;
         --engrid__page-backgroundImage_background-color:  var(--nthp-grey) !important;
         opacity: 0;
            background-color: #ffffff;
         }

         body[data-engrid-embedded] {
            background-color: transparent;
         }

         body:not(#en__pagebuilder):not([data-engrid-embedded]) #engrid {
            opacity: 0;
         }

      .page-backgroundImage,
      .page-backgroundImage:before{
          background-color: var--nthp-grey);
      }

      .en__component--advrow + .en__component--advrow{
          display: block !important;
      }

      /* Hide consent banner when embedded */
      [data-engrid-embedded] #cookie-consent-banner-container{
          display: none !important;
      }
    </style>

    <!-- Preconnect and Preload Render Critical CSS, JS, and Fonts -->
    <link
      rel="preconnect"
      href="https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com"
    />
    <link
      rel="preload"
      href="https://s3.amazonaws.com/engrid-dev.4sitestudios.com/engrid-nthp/multistep/engrid.css"
      as="style"
    />
    <link
      rel="preload"
      href="https://s3.amazonaws.com/engrid-dev.4sitestudios.com/engrid-nthp/multistep/engrid.js"
      as="script"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body
    data-engrid-add-input-placeholders
    data-engrid-layout="leftleft1col"
    data-engrid-theme="nthp"
    data-engrid-subtheme="multistep"
    data-conditonally-hide-show-digital-wallet-elements
    data-highlight-required-fields
  >
    <noscript
      >With Javascript disabled this page may not function as
      expected.</noscript
    >

    <!-- Start 4Site Added - Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-KHZ5FZ"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End 4Site Added - End Google Tag Manager (noscript) -->

    <!-- Quickly check to see if the page is in an iFrame and if so set the corresponding Custom Attribute so it can also set the background-color. Must be after <body> otherwise there will be a flash of color -->
    <script>
      if (window.self !== window.top) {
        document
          .getElementsByTagName("BODY")[0]
          .setAttribute("data-engrid-embedded", "");
      }
    </script>

    <!-- Placed here so that it always comes after Engaging Networks CSS which gets injected into <head> -->
    <link
      href="https://s3.amazonaws.com/engrid-dev.4sitestudios.com/engrid-nthp/multistep/engrid.css?v=2"
      rel="stylesheet"
      type="text/css"
    />

    <div id="engrid">
      <!-- Start EN's Page Builder -->

      <!-- End EN's Page Builder -->
    </div>

    <!-- START: Multistep Script -->
    <script>
      function sendMessage(key, value) {
        const message = { key: key, value: value };
        if (window.self !== window.top) window.parent.postMessage(message, "*");
      }
      if (pageJson.pageNumber === pageJson.pageCount) {
        document.querySelector("body").dataset.thankYou = "true";
        sendMessage("status", "loaded");
        sendMessage("status", "celebrate");
        sendMessage("class", "thank-you");
      }
    </script>
    <!-- END: Multistep Script -->

    <!-- ENgrid Multistep Self-Loading Code -->
    <script>
      const loadScript = (url, callback) => {
        const script = document.createElement("script");
        script.src = url;
        script.onload = () => {
          if (typeof callback === "function") {
            callback();
          }
        };
        script.onerror = () => console.error(`Failed to load script: ${url}`);
        document.head.appendChild(script);
      };

      if (window.self === window.top && "DonationLightboxOptions" in window) {
        document.cookie =
          "HideDonationLightbox=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT";
        loadScript(
          "https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/donation-lightbox-parent.js",
          () => {
            window.setTimeout(() => {
              document.body.style.opacity = "1";
            }, 300);
          }
        );
      } else {
        //   loadScript("https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10028/engrid.min.js");
        loadScript(
          "https://s3.amazonaws.com/engrid-dev.4sitestudios.com/engrid-nthp/multistep/engrid.js"
        );
      }
    </script>

    <!-- Start Google Tag Manager -->
    <script>
      window.dataLayer = window.dataLayer || [];
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-KHZ5FZ");
    </script>
    <!-- End Google Tag Manager -->

    <!-- Start Custom JS -->
    <!-- End Custom JS -->

    <!-- 4Site TidyContact Canary -->
    <!-- <script defer src="https://apps.4sitestudios.com/tidycontact/tidycontact-canary.js" type="text/javascript"></script>-->
  </body>
</html>
